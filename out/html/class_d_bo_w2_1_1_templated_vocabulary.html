<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ORB_SLAM3: DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ORB_SLAM3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_d_bo_w2.html">DBoW2</a></li><li class="navelem"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic Vocabulary.  
 <a href="class_d_bo_w2_1_1_templated_vocabulary.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary__coll__graph.png" border="0" usemap="#_d_bo_w2_1_1_templated_vocabulary_3_01_t_descriptor_00_01_f_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="_d_bo_w2_1_1_templated_vocabulary_3_01_t_descriptor_00_01_f_01_4_coll__map" id="_d_bo_w2_1_1_templated_vocabulary_3_01_t_descriptor_00_01_f_01_4_coll__map">
<area shape="rect" title="Generic Vocabulary." alt="" coords="1256,225,1475,266"/>
<area shape="rect" title=" " alt="" coords="948,217,1119,273"/>
<area shape="rect" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html" title="Tree node." alt="" coords="504,155,723,197"/>
<area shape="rect" title=" " alt="" coords="948,137,1119,193"/>
<area shape="rect" title=" " alt="" coords="255,93,353,120"/>
<area shape="rect" href="classdouble.html" title=" " alt="" coords="271,36,337,63"/>
<area shape="rect" href="class_d_bo_w2_1_1_general_scoring.html" title="Base class of scoring functions." alt="" coords="747,11,924,37"/>
<area shape="rect" href="classint.html" title=" " alt="" coords="285,321,323,348"/>
<area shape="rect" title=" " alt="" coords="221,159,387,201"/>
<area shape="rect" href="classunsigned_01int.html" title=" " alt="" coords="5,167,108,193"/>
<area shape="rect" title=" " alt="" coords="974,297,1093,324"/>
<area shape="rect" title=" " alt="" coords="983,399,1083,425"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html">Node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree node.  <a href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0dbbcb6bf766b09f08d945a2af0dbea8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a0dbbcb6bf766b09f08d945a2af0dbea8">TemplatedVocabulary</a> (<a class="el" href="classint.html">int</a> k=10, <a class="el" href="classint.html">int</a> L=5, <a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a> weighting=<a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aaa3425e88466862008dff6883e07e205d">TF_IDF</a>, <a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a> scoring=<a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a2df432e58efd2a13d4950ee96aa6a20f">L1_NORM</a>)</td></tr>
<tr class="separator:a0dbbcb6bf766b09f08d945a2af0dbea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fc6a164a5174003d19bd3c54615de6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a72fc6a164a5174003d19bd3c54615de6">TemplatedVocabulary</a> (const std::string &amp;filename)</td></tr>
<tr class="separator:a72fc6a164a5174003d19bd3c54615de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255d68e7b4235487f8d2d8ea0cbaf43a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a255d68e7b4235487f8d2d8ea0cbaf43a">TemplatedVocabulary</a> (const char *filename)</td></tr>
<tr class="separator:a255d68e7b4235487f8d2d8ea0cbaf43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac48ee5331b5d88a4db1a3c93cb0f6a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#aac48ee5331b5d88a4db1a3c93cb0f6a5">TemplatedVocabulary</a> (const <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a>&lt; TDescriptor, F &gt; &amp;voc)</td></tr>
<tr class="separator:aac48ee5331b5d88a4db1a3c93cb0f6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d15f985a0c3badc1518be0fbe663099"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a9d15f985a0c3badc1518be0fbe663099">~TemplatedVocabulary</a> ()</td></tr>
<tr class="separator:a9d15f985a0c3badc1518be0fbe663099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5355c25b6f37c11acffe48996e19323f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a>&lt; TDescriptor, F &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a5355c25b6f37c11acffe48996e19323f">operator=</a> (const <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a>&lt; TDescriptor, F &gt; &amp;voc)</td></tr>
<tr class="separator:a5355c25b6f37c11acffe48996e19323f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3679b5a8f2043021a4faab99ccfe4ebe"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3679b5a8f2043021a4faab99ccfe4ebe">create</a> (const std::vector&lt; std::vector&lt; TDescriptor &gt; &gt; &amp;training_features)</td></tr>
<tr class="separator:a3679b5a8f2043021a4faab99ccfe4ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d48231b043a1102af4c35e256f2054"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a94d48231b043a1102af4c35e256f2054">create</a> (const std::vector&lt; std::vector&lt; TDescriptor &gt; &gt; &amp;training_features, <a class="el" href="classint.html">int</a> k, <a class="el" href="classint.html">int</a> L)</td></tr>
<tr class="separator:a94d48231b043a1102af4c35e256f2054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4a3e90f4aa1e6b6ea4d7491c223fd4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1e4a3e90f4aa1e6b6ea4d7491c223fd4">create</a> (const std::vector&lt; std::vector&lt; TDescriptor &gt; &gt; &amp;training_features, <a class="el" href="classint.html">int</a> k, <a class="el" href="classint.html">int</a> L, <a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a> weighting, <a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a> scoring)</td></tr>
<tr class="separator:a1e4a3e90f4aa1e6b6ea4d7491c223fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8baad280d6daf74ee43d7cd911363137"><td class="memItemLeft" align="right" valign="top">virtual unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a8baad280d6daf74ee43d7cd911363137">size</a> () const</td></tr>
<tr class="separator:a8baad280d6daf74ee43d7cd911363137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bbb3cf53f8f9f3610b9b67c551ba8e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#ad7bbb3cf53f8f9f3610b9b67c551ba8e">empty</a> () const</td></tr>
<tr class="separator:ad7bbb3cf53f8f9f3610b9b67c551ba8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01de3bebec37624439c7d3baf6651ff0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a> (const std::vector&lt; TDescriptor &gt; &amp;features, <a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;v) const</td></tr>
<tr class="separator:a01de3bebec37624439c7d3baf6651ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3815440ed610974afc5a2836f54fe07"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#af3815440ed610974afc5a2836f54fe07">transform</a> (const std::vector&lt; TDescriptor &gt; &amp;features, <a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;v, <a class="el" href="class_d_bo_w2_1_1_feature_vector.html">FeatureVector</a> &amp;fv, <a class="el" href="classint.html">int</a> levelsup) const</td></tr>
<tr class="separator:af3815440ed610974afc5a2836f54fe07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5003af19aacb6a322f7fdc0535eb149"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5003af19aacb6a322f7fdc0535eb149">transform</a> (const TDescriptor &amp;feature) const</td></tr>
<tr class="separator:aa5003af19aacb6a322f7fdc0535eb149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedde9cc3255e41fd0441055eeb640346"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdouble.html">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#aedde9cc3255e41fd0441055eeb640346">score</a> (const <a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;a, const <a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;b) const</td></tr>
<tr class="separator:aedde9cc3255e41fd0441055eeb640346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03912634600711fbf70355ed32b07f2c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a03912634600711fbf70355ed32b07f2c">getParentNode</a> (<a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> wid, <a class="el" href="classint.html">int</a> levelsup) const</td></tr>
<tr class="separator:a03912634600711fbf70355ed32b07f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a809f881020a2b953664b1f528828551e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a809f881020a2b953664b1f528828551e">getWordsFromNode</a> (<a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a> nid, std::vector&lt; <a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> &gt; &amp;words) const</td></tr>
<tr class="separator:a809f881020a2b953664b1f528828551e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027d367760c39de816bee5ff0d969837"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a027d367760c39de816bee5ff0d969837">getBranchingFactor</a> () const</td></tr>
<tr class="separator:a027d367760c39de816bee5ff0d969837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7d1b3ad0c705705d516a9a144e3f38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a5a7d1b3ad0c705705d516a9a144e3f38">getDepthLevels</a> () const</td></tr>
<tr class="separator:a5a7d1b3ad0c705705d516a9a144e3f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67da4c7b30c15ed4faba2ad6ed4549e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#ae67da4c7b30c15ed4faba2ad6ed4549e">getEffectiveLevels</a> () const</td></tr>
<tr class="separator:ae67da4c7b30c15ed4faba2ad6ed4549e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0d8b15b4f673bf9888ff23489430b4"><td class="memItemLeft" align="right" valign="top">virtual TDescriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3f0d8b15b4f673bf9888ff23489430b4">getWord</a> (<a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> wid) const</td></tr>
<tr class="separator:a3f0d8b15b4f673bf9888ff23489430b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace5645b42739bea1e3da05c6cff60bad"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#ace5645b42739bea1e3da05c6cff60bad">getWordWeight</a> (<a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> wid) const</td></tr>
<tr class="separator:ace5645b42739bea1e3da05c6cff60bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb9343da87e0f00ed3da401c59132b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#aadb9343da87e0f00ed3da401c59132b2">getWeightingType</a> () const</td></tr>
<tr class="separator:aadb9343da87e0f00ed3da401c59132b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad830e1e3e547e5d9d45971662afca3d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#ad830e1e3e547e5d9d45971662afca3d5">getScoringType</a> () const</td></tr>
<tr class="separator:ad830e1e3e547e5d9d45971662afca3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f63a3379debd40214899d996cfc733"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa8f63a3379debd40214899d996cfc733">setWeightingType</a> (<a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a> type)</td></tr>
<tr class="separator:aa8f63a3379debd40214899d996cfc733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a6c2f46184618c9ea8368f53e6980c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a05a6c2f46184618c9ea8368f53e6980c">setScoringType</a> (<a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a> type)</td></tr>
<tr class="separator:a05a6c2f46184618c9ea8368f53e6980c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5447d0744100254c4da88ea039fb3414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a5447d0744100254c4da88ea039fb3414">loadFromTextFile</a> (const std::string &amp;filename)</td></tr>
<tr class="separator:a5447d0744100254c4da88ea039fb3414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1338b014b856d0a17e71010f6488548e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1338b014b856d0a17e71010f6488548e">saveToTextFile</a> (const std::string &amp;filename) const</td></tr>
<tr class="separator:a1338b014b856d0a17e71010f6488548e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ca49bd6600bddbad145fb6e0543fa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a92ca49bd6600bddbad145fb6e0543fa1">save</a> (const std::string &amp;filename) const</td></tr>
<tr class="separator:a92ca49bd6600bddbad145fb6e0543fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdec2031c98b9109451b1454f73348b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#afdec2031c98b9109451b1454f73348b0">load</a> (const std::string &amp;filename)</td></tr>
<tr class="separator:afdec2031c98b9109451b1454f73348b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3039529c46f02b795450f4fba2207339"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3039529c46f02b795450f4fba2207339">save</a> (cv::FileStorage &amp;fs, const std::string &amp;name=&quot;vocabulary&quot;) const</td></tr>
<tr class="separator:a3039529c46f02b795450f4fba2207339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037ba240314ff30f3620fb4de6845c66"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a037ba240314ff30f3620fb4de6845c66">load</a> (const cv::FileStorage &amp;fs, const std::string &amp;name=&quot;vocabulary&quot;)</td></tr>
<tr class="separator:a037ba240314ff30f3620fb4de6845c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b6721fde54bd8cd008f6a120398741e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a0b6721fde54bd8cd008f6a120398741e">stopWords</a> (<a class="el" href="classdouble.html">double</a> minWeight)</td></tr>
<tr class="separator:a0b6721fde54bd8cd008f6a120398741e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3244d5a3d0f75ba9c9ae905c5365335d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">createScoringObject</a> ()</td></tr>
<tr class="separator:a3244d5a3d0f75ba9c9ae905c5365335d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8155a70fa5163d117dc6a2ef923205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#ace8155a70fa5163d117dc6a2ef923205">getFeatures</a> (const vector&lt; vector&lt; TDescriptor &gt; &gt; &amp;training_features, vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;features) const</td></tr>
<tr class="separator:ace8155a70fa5163d117dc6a2ef923205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af7e18ab438c3fbbb51bd9930c43444"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a5af7e18ab438c3fbbb51bd9930c43444">transform</a> (const TDescriptor &amp;feature, <a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> &amp;id, <a class="el" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> &amp;weight, <a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a> *nid=NULL, <a class="el" href="classint.html">int</a> levelsup=0) const</td></tr>
<tr class="separator:a5af7e18ab438c3fbbb51bd9930c43444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a53ffe060c205e44ddd2e173eb96c4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a48a53ffe060c205e44ddd2e173eb96c4">transform</a> (const TDescriptor &amp;feature, <a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> &amp;id) const</td></tr>
<tr class="separator:a48a53ffe060c205e44ddd2e173eb96c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79623d30a8550414e1f4bf916869f05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#ab79623d30a8550414e1f4bf916869f05">HKmeansStep</a> (<a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a> parent_id, const vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;descriptors, <a class="el" href="classint.html">int</a> current_level)</td></tr>
<tr class="separator:ab79623d30a8550414e1f4bf916869f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3915e44667d32130e17791147730b7da"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3915e44667d32130e17791147730b7da">initiateClusters</a> (const vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;descriptors, vector&lt; TDescriptor &gt; &amp;clusters) const</td></tr>
<tr class="separator:a3915e44667d32130e17791147730b7da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c94955c7e03ec39fc0d9b9ce60009f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa4c94955c7e03ec39fc0d9b9ce60009f">initiateClustersKMpp</a> (const vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;descriptors, vector&lt; TDescriptor &gt; &amp;clusters) const</td></tr>
<tr class="separator:aa4c94955c7e03ec39fc0d9b9ce60009f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b74d107b7dc6142cbed4e6ef44a8519"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a9b74d107b7dc6142cbed4e6ef44a8519">createWords</a> ()</td></tr>
<tr class="separator:a9b74d107b7dc6142cbed4e6ef44a8519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8">setNodeWeights</a> (const vector&lt; vector&lt; TDescriptor &gt; &gt; &amp;features)</td></tr>
<tr class="separator:af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a442f794d23397c43809afca290bac81c"><td class="memItemLeft" align="right" valign="top">const typedef TDescriptor *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a></td></tr>
<tr class="memdesc:a442f794d23397c43809afca290bac81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to descriptor.  <a href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">More...</a><br /></td></tr>
<tr class="separator:a442f794d23397c43809afca290bac81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f7f829033a49833fe4fb5652b99337"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a></td></tr>
<tr class="memdesc:aa5f7f829033a49833fe4fb5652b99337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Branching factor.  <a href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">More...</a><br /></td></tr>
<tr class="separator:aa5f7f829033a49833fe4fb5652b99337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16735d9e2c8b901f01d541faea67971e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a></td></tr>
<tr class="memdesc:a16735d9e2c8b901f01d541faea67971e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Depth levels.  <a href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">More...</a><br /></td></tr>
<tr class="separator:a16735d9e2c8b901f01d541faea67971e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf03c6430d630674ddca5bab9c120c51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a></td></tr>
<tr class="memdesc:abf03c6430d630674ddca5bab9c120c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weighting method.  <a href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">More...</a><br /></td></tr>
<tr class="separator:abf03c6430d630674ddca5bab9c120c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d8aa037f2b5c3c5cc953734bb5cb9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a></td></tr>
<tr class="memdesc:a89d8aa037f2b5c3c5cc953734bb5cb9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scoring method.  <a href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">More...</a><br /></td></tr>
<tr class="separator:a89d8aa037f2b5c3c5cc953734bb5cb9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34144d0e2056d6ed8b925a2937b67418"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_d_bo_w2_1_1_general_scoring.html">GeneralScoring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a></td></tr>
<tr class="memdesc:a34144d0e2056d6ed8b925a2937b67418"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object for computing scores.  <a href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">More...</a><br /></td></tr>
<tr class="separator:a34144d0e2056d6ed8b925a2937b67418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82be6d310eae6f4f57a72d340489320b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html">Node</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a></td></tr>
<tr class="memdesc:a82be6d310eae6f4f57a72d340489320b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree nodes.  <a href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">More...</a><br /></td></tr>
<tr class="separator:a82be6d310eae6f4f57a72d340489320b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1665546b54f954d2d54d59a6982df3ca"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html">Node</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a></td></tr>
<tr class="separator:a1665546b54f954d2d54d59a6982df3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class TDescriptor, class F&gt;<br />
class DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;</h3>

<p>Generic Vocabulary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TDescriptor</td><td>class of descriptor </td></tr>
    <tr><td class="paramname">F</td><td>class of descriptor functions </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00044">44</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0dbbcb6bf766b09f08d945a2af0dbea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dbbcb6bf766b09f08d945a2af0dbea8">&#9670;&nbsp;</a></span>TemplatedVocabulary() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::<a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>k</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>L</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a>&#160;</td>
          <td class="paramname"><em>weighting</em> = <code><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aaa3425e88466862008dff6883e07e205d">TF_IDF</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a>&#160;</td>
          <td class="paramname"><em>scoring</em> = <code><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a2df432e58efd2a13d4950ee96aa6a20f">L1_NORM</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates an empty vocabulary </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>branching factor </td></tr>
    <tr><td class="paramname">L</td><td>depth levels </td></tr>
    <tr><td class="paramname">weighting</td><td>weighting type </td></tr>
    <tr><td class="paramname">scoring</td><td>scoring type </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00435">435</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  : <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>(k), <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a>(L), <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a>(weighting), <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a>(scoring),</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>(NULL)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">createScoringObject</a>();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a72fc6a164a5174003d19bd3c54615de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72fc6a164a5174003d19bd3c54615de6">&#9670;&nbsp;</a></span>TemplatedVocabulary() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::<a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates the vocabulary by loading a file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00446">446</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                             : <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>(NULL)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#afdec2031c98b9109451b1454f73348b0">load</a>(filename);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a255d68e7b4235487f8d2d8ea0cbaf43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255d68e7b4235487f8d2d8ea0cbaf43a">&#9670;&nbsp;</a></span>TemplatedVocabulary() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::<a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates the vocabulary by loading a file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00455">455</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        : <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>(NULL)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;{</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#afdec2031c98b9109451b1454f73348b0">load</a>(filename);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac48ee5331b5d88a4db1a3c93cb0f6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac48ee5331b5d88a4db1a3c93cb0f6a5">&#9670;&nbsp;</a></span>TemplatedVocabulary() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::<a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a>&lt; TDescriptor, F &gt; &amp;&#160;</td>
          <td class="paramname"><em>voc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voc</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00517">517</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  : <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>(NULL)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;{</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  *<span class="keyword">this</span> = voc;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d15f985a0c3badc1518be0fbe663099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d15f985a0c3badc1518be0fbe663099">&#9670;&nbsp;</a></span>~TemplatedVocabulary()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::~<a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00527">527</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keyword">delete</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3679b5a8f2043021a4faab99ccfe4ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3679b5a8f2043021a4faab99ccfe4ebe">&#9670;&nbsp;</a></span>create() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::create </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; TDescriptor &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>training_features</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a vocabulary from the training features with the already defined parameters </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">training_features</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00558">558</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.clear();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.clear();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// expected_nodes = Sum_{i=0..L} ( k^i )</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordtype">int</span> expected_nodes = </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        (<a class="code" href="classint.html">int</a>)((pow((<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>, (<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> + 1) - 1)/(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a> - 1));</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.reserve(expected_nodes); <span class="comment">// avoid allocations when creating the tree</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  vector&lt;pDescriptor&gt; features;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#ace8155a70fa5163d117dc6a2ef923205">getFeatures</a>(training_features, features);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// create root  </span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.push_back(Node(0)); <span class="comment">// root</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// create the tree</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#ab79623d30a8550414e1f4bf916869f05">HKmeansStep</a>(0, features, 1);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// create the words</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a9b74d107b7dc6142cbed4e6ef44a8519">createWords</a>();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="comment">// and set the weight of each node of the tree</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8">setNodeWeights</a>(training_features);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a94d48231b043a1102af4c35e256f2054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d48231b043a1102af4c35e256f2054">&#9670;&nbsp;</a></span>create() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::create </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; TDescriptor &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>training_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>L</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a vocabulary from the training features, setting the branching factor and the depth levels of the tree </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">training_features</td><td></td></tr>
    <tr><td class="paramname">k</td><td>branching factor </td></tr>
    <tr><td class="paramname">L</td><td>depth levels </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00592">592</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;{</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a> = k;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> = L;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3679b5a8f2043021a4faab99ccfe4ebe">create</a>(training_features);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e4a3e90f4aa1e6b6ea4d7491c223fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4a3e90f4aa1e6b6ea4d7491c223fd4">&#9670;&nbsp;</a></span>create() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::create </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; TDescriptor &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>training_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a>&#160;</td>
          <td class="paramname"><em>weighting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a>&#160;</td>
          <td class="paramname"><em>scoring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a vocabulary from the training features, setting the branching factor nad the depth levels of the tree, and the weighting and scoring schemes </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00605">605</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a> = k;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> = L;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> = weighting;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a> = scoring;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">createScoringObject</a>();</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3679b5a8f2043021a4faab99ccfe4ebe">create</a>(training_features);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3244d5a3d0f75ba9c9ae905c5365335d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3244d5a3d0f75ba9c9ae905c5365335d">&#9670;&nbsp;</a></span>createScoringObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::createScoringObject</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an instance of the scoring object accoring to m_scoring </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00463">463</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keyword">delete</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a> = NULL;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">switch</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a>)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a2df432e58efd2a13d4950ee96aa6a20f">L1_NORM</a>: </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a> = <span class="keyword">new</span> L1Scoring;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722ad1a4e066e848e5247e4d94dd3e08f509">L2_NORM</a>:</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a> = <span class="keyword">new</span> L2Scoring;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722ad0bd4548b18fb1c165961506e199f38d">CHI_SQUARE</a>:</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a> = <span class="keyword">new</span> ChiSquareScoring;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a607c4948ab28605098d7cedb9bce14ae">KL</a>:</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a> = <span class="keyword">new</span> KLScoring;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a22de570628b33a2662630def802a23cb">BHATTACHARYYA</a>:</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a> = <span class="keyword">new</span> BhattacharyyaScoring;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a14556ffa1d80b1c7540ea68506eb5b56">DOT_PRODUCT</a>:</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a> = <span class="keyword">new</span> DotProductScoring;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_bow_vector_8h_source.html#l00054">DBoW2::BHATTACHARYYA</a>, <a class="el" href="_bow_vector_8h_source.html#l00052">DBoW2::CHI_SQUARE</a>, <a class="el" href="_bow_vector_8h_source.html#l00055">DBoW2::DOT_PRODUCT</a>, <a class="el" href="_bow_vector_8h_source.html#l00053">DBoW2::KL</a>, <a class="el" href="_bow_vector_8h_source.html#l00050">DBoW2::L1_NORM</a>, and <a class="el" href="_bow_vector_8h_source.html#l00051">DBoW2::L2_NORM</a>.</p>

</div>
</div>
<a id="a9b74d107b7dc6142cbed4e6ef44a8519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b74d107b7dc6142cbed4e6ef44a8519">&#9670;&nbsp;</a></span>createWords()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::createWords</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create the words of the vocabulary once the tree has been built </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00918">918</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;{</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.resize(0);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.empty())</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.reserve( (<span class="keywordtype">int</span>)pow((<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>, (<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a>) );</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keyword">typename</span> vector&lt;Node&gt;::iterator nit;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    nit = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.begin(); <span class="comment">// ignore root</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">for</span>(++nit; nit != <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.end(); ++nit)</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="keywordflow">if</span>(nit-&gt;isLeaf())</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        nit-&gt;word_id = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.size();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.push_back( &amp;(*nit) );</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7bbb3cf53f8f9f3610b9b67c551ba8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7bbb3cf53f8f9f3610b9b67c551ba8e">&#9670;&nbsp;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::empty</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns whether the vocabulary is empty (i.e. it has not been trained) </p><dl class="section return"><dt>Returns</dt><dd>true iff the vocabulary is empty </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01009">1009</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;{</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.empty();</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a027d367760c39de816bee5ff0d969837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027d367760c39de816bee5ff0d969837">&#9670;&nbsp;</a></span>getBranchingFactor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getBranchingFactor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the branching factor of the tree (k) </p><dl class="section return"><dt>Returns</dt><dd>k </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00185">185</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_templated_vocabulary_8h_source.html#l01632">DBoW2::operator&lt;&lt;()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a027d367760c39de816bee5ff0d969837_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a027d367760c39de816bee5ff0d969837_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a027d367760c39de816bee5ff0d969837_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a027d367760c39de816bee5ff0d969837_icgraph">
<area shape="rect" title=" " alt="" coords="208,5,427,47"/>
<area shape="rect" href="namespace_d_bo_w2.html#aecdf616fe16d2cf09f521a603b9d43f1" title=" " alt="" coords="5,13,160,39"/>
</map>
</div>

</div>
</div>
<a id="a5a7d1b3ad0c705705d516a9a144e3f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7d1b3ad0c705705d516a9a144e3f38">&#9670;&nbsp;</a></span>getDepthLevels()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getDepthLevels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the depth levels of the tree (L) </p><dl class="section return"><dt>Returns</dt><dd>L </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00191">191</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_templated_vocabulary_8h_source.html#l01632">DBoW2::operator&lt;&lt;()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a5a7d1b3ad0c705705d516a9a144e3f38_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a5a7d1b3ad0c705705d516a9a144e3f38_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a5a7d1b3ad0c705705d516a9a144e3f38_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a5a7d1b3ad0c705705d516a9a144e3f38_icgraph">
<area shape="rect" title=" " alt="" coords="208,5,427,47"/>
<area shape="rect" href="namespace_d_bo_w2.html#aecdf616fe16d2cf09f521a603b9d43f1" title=" " alt="" coords="5,13,160,39"/>
</map>
</div>

</div>
</div>
<a id="ae67da4c7b30c15ed4faba2ad6ed4549e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67da4c7b30c15ed4faba2ad6ed4549e">&#9670;&nbsp;</a></span>getEffectiveLevels()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getEffectiveLevels</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the real depth levels of the tree on average </p><dl class="section return"><dt>Returns</dt><dd>average of depth levels of leaves </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01017">1017</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;{</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordtype">long</span> sum = 0;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keyword">typename</span> std::vector&lt;Node*&gt;::const_iterator wit;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keywordflow">for</span>(wit = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.begin(); wit != <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.end(); ++wit)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keyword">const</span> Node *p = *wit;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">for</span>(; p-&gt;id != 0; sum++) p = &amp;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[p-&gt;parent];</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)((<a class="code" href="classdouble.html">double</a>)sum / (<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.size());</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_templated_vocabulary_8h_source.html#l00300">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::id</a>, and <a class="el" href="_templated_vocabulary_8h_source.html#l00306">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::parent</a>.</p>

</div>
</div>
<a id="ace8155a70fa5163d117dc6a2ef923205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace8155a70fa5163d117dc6a2ef923205">&#9670;&nbsp;</a></span>getFeatures()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getFeatures </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; vector&lt; TDescriptor &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>training_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a set of pointers to descriptores </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">training_features</td><td>all the features </td></tr>
    <tr><td class="paramname">features</td><td>(out) pointers to the training features </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00621">621</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;{</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  features.resize(0);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keyword">typename</span> vector&lt;vector&lt;TDescriptor&gt; &gt;::const_iterator vvit;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">typename</span> vector&lt;TDescriptor&gt;::const_iterator vit;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">for</span>(vvit = training_features.begin(); vvit != training_features.end(); ++vvit)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    features.reserve(features.size() + vvit-&gt;size());</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">for</span>(vit = vvit-&gt;begin(); vit != vvit-&gt;end(); ++vit)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      features.push_back(&amp;(*vit));</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a03912634600711fbf70355ed32b07f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03912634600711fbf70355ed32b07f2c">&#9670;&nbsp;</a></span>getParentNode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getParentNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a>&#160;</td>
          <td class="paramname"><em>wid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>levelsup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the id of the node that is "levelsup" levels from the word given </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wid</td><td>word id </td></tr>
    <tr><td class="paramname">levelsup</td><td>0..L </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>node id. if levelsup is 0, returns the node id associated to the word id </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01265">1265</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;{</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <a class="code" href="class_node_id.html">NodeId</a> ret = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>[wid]-&gt;id; <span class="comment">// node id</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">while</span>(levelsup &gt; 0 &amp;&amp; ret != 0) <span class="comment">// ret == 0 --&gt; root</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    --levelsup;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    ret = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[ret].parent;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  }</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad830e1e3e547e5d9d45971662afca3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad830e1e3e547e5d9d45971662afca3d5">&#9670;&nbsp;</a></span>getScoringType()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getScoringType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the scoring method </p><dl class="section return"><dt>Returns</dt><dd>scoring method </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00223">223</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_templated_vocabulary_8h_source.html#l01632">DBoW2::operator&lt;&lt;()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_ad830e1e3e547e5d9d45971662afca3d5_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_ad830e1e3e547e5d9d45971662afca3d5_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_ad830e1e3e547e5d9d45971662afca3d5_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_ad830e1e3e547e5d9d45971662afca3d5_icgraph">
<area shape="rect" title=" " alt="" coords="208,5,427,47"/>
<area shape="rect" href="namespace_d_bo_w2.html#aecdf616fe16d2cf09f521a603b9d43f1" title=" " alt="" coords="5,13,160,39"/>
</map>
</div>

</div>
</div>
<a id="aadb9343da87e0f00ed3da401c59132b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadb9343da87e0f00ed3da401c59132b2">&#9670;&nbsp;</a></span>getWeightingType()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getWeightingType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the weighting method </p><dl class="section return"><dt>Returns</dt><dd>weighting method </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00217">217</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_templated_vocabulary_8h_source.html#l01632">DBoW2::operator&lt;&lt;()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_aadb9343da87e0f00ed3da401c59132b2_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_aadb9343da87e0f00ed3da401c59132b2_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_aadb9343da87e0f00ed3da401c59132b2_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_aadb9343da87e0f00ed3da401c59132b2_icgraph">
<area shape="rect" title=" " alt="" coords="208,5,427,47"/>
<area shape="rect" href="namespace_d_bo_w2.html#aecdf616fe16d2cf09f521a603b9d43f1" title=" " alt="" coords="5,13,160,39"/>
</map>
</div>

</div>
</div>
<a id="a3f0d8b15b4f673bf9888ff23489430b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0d8b15b4f673bf9888ff23489430b4">&#9670;&nbsp;</a></span>getWord()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TDescriptor <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getWord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a>&#160;</td>
          <td class="paramname"><em>wid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the descriptor of a word </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wid</td><td>word id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>descriptor </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01034">1034</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;{</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>[wid]-&gt;descriptor;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a809f881020a2b953664b1f528828551e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a809f881020a2b953664b1f528828551e">&#9670;&nbsp;</a></span>getWordsFromNode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getWordsFromNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a>&#160;</td>
          <td class="paramname"><em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>words</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the ids of all the words that are under the given node id, by traversing any of the branches that goes down from the node </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nid</td><td>starting node id </td></tr>
    <tr><td class="paramname">words</td><td>ids of words </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01280">1280</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;{</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  words.clear();</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].isLeaf())</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    words.push_back(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].word_id);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    words.reserve(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>); <span class="comment">// ^1, ^2, ...</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    vector&lt;NodeId&gt; parents;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    parents.push_back(nid);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordflow">while</span>(!parents.empty())</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <a class="code" href="class_node_id.html">NodeId</a> parentid = parents.back();</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      parents.pop_back();</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <span class="keyword">const</span> vector&lt;NodeId&gt; &amp;child_ids = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[parentid].children;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      vector&lt;NodeId&gt;::const_iterator cit;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordflow">for</span>(cit = child_ids.begin(); cit != child_ids.end(); ++cit)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keyword">const</span> Node &amp;child_node = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[*cit];</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">if</span>(child_node.isLeaf())</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;          words.push_back(child_node.word_id);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;          parents.push_back(*cit);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      } <span class="comment">// for each child</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    } <span class="comment">// while !parents.empty</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_templated_vocabulary_8h_source.html#l00328">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::isLeaf()</a>, and <a class="el" href="_templated_vocabulary_8h_source.html#l00311">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::word_id</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a809f881020a2b953664b1f528828551e_cgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a809f881020a2b953664b1f528828551e_cgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a809f881020a2b953664b1f528828551e_cgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a809f881020a2b953664b1f528828551e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,224,47"/>
<area shape="rect" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html#a050a0ee173dd58475dd2ab84e6f215e8" title=" " alt="" coords="272,5,491,47"/>
</map>
</div>

</div>
</div>
<a id="ace5645b42739bea1e3da05c6cff60bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5645b42739bea1e3da05c6cff60bad">&#9670;&nbsp;</a></span>getWordWeight()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::getWordWeight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a>&#160;</td>
          <td class="paramname"><em>wid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the weight of a word </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wid</td><td>word id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>weight </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01042">1042</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;{</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>[wid]-&gt;weight;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab79623d30a8550414e1f4bf916869f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79623d30a8550414e1f4bf916869f05">&#9670;&nbsp;</a></span>HKmeansStep()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::HKmeansStep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a>&#160;</td>
          <td class="paramname"><em>parent_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>descriptors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>current_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a level in the tree, under the parent, by running kmeans with a descriptor set, and recursively creates the subsequent levels too </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent_id</td><td>id of parent node </td></tr>
    <tr><td class="paramname">descriptors</td><td>descriptors to run the kmeans on </td></tr>
    <tr><td class="paramname">current_level</td><td>current level in the tree </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00642">642</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;{</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">if</span>(descriptors.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// features associated to each cluster</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  vector&lt;TDescriptor&gt; clusters;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    vector&lt;vector&lt;unsigned int&gt; &gt; groups; <span class="comment">// groups[i] = [j1, j2, ...]</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// j1, j2, ... indices of descriptors associated to cluster i</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  clusters.reserve(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    groups.reserve(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">//const int msizes[] = { m_k, descriptors.size() };</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">//cv::SparseMat assoc(2, msizes, CV_8U);</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">//cv::SparseMat last_assoc(2, msizes, CV_8U);  </span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"></span>  </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)descriptors.size() &lt;= <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// trivial case: one cluster per feature</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    groups.resize(descriptors.size());</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; descriptors.size(); i++)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      groups[i].push_back(i);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      clusters.push_back(*descriptors[i]);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="comment">// select clusters and groups with kmeans</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordtype">bool</span> goon = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// to check if clusters move after iterations</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    vector&lt;int&gt; last_association, current_association;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">while</span>(goon)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="comment">// 1. Calculate clusters</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">if</span>(first_time)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">// random sample </span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3915e44667d32130e17791147730b7da">initiateClusters</a>(descriptors, clusters);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="comment">// calculate cluster centres</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = 0; c &lt; clusters.size(); ++c)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          vector&lt;pDescriptor&gt; cluster_descriptors;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          cluster_descriptors.reserve(groups[c].<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a8baad280d6daf74ee43d7cd911363137">size</a>());</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          <span class="comment">/*</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">          for(unsigned int d = 0; d &lt; descriptors.size(); ++d)</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">          {</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">            if( assoc.find&lt;unsigned char&gt;(c, d) )</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">              cluster_descriptors.push_back(descriptors[d]);</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">          }</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">          */</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;          vector&lt;unsigned int&gt;::const_iterator vit;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;          <span class="keywordflow">for</span>(vit = groups[c].begin(); vit != groups[c].end(); ++vit)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            cluster_descriptors.push_back(descriptors[*vit]);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;          </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          F::meanValue(cluster_descriptors, clusters[c]);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      } <span class="comment">// if(!first_time)</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="comment">// 2. Associate features with clusters</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="comment">// calculate distances to cluster centers</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      groups.clear();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      groups.resize(clusters.size(), vector&lt;unsigned int&gt;());</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      current_association.resize(descriptors.size());</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="comment">//assoc.clear();</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keyword">typename</span> vector&lt;pDescriptor&gt;::const_iterator fit;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="comment">//unsigned int d = 0;</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">for</span>(fit = descriptors.begin(); fit != descriptors.end(); ++fit)<span class="comment">//, ++d)</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordtype">double</span> best_dist = F::distance(*(*fit), clusters[0]);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> icluster = 0;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = 1; c &lt; clusters.size(); ++c)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          <span class="keywordtype">double</span> dist = F::distance(*(*fit), clusters[c]);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          <span class="keywordflow">if</span>(dist &lt; best_dist)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            best_dist = dist;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            icluster = c;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;          }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="comment">//assoc.ref&lt;unsigned char&gt;(icluster, d) = 1;</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        groups[icluster].push_back(fit - descriptors.begin());</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        current_association[ fit - descriptors.begin() ] = icluster;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="comment">// kmeans++ ensures all the clusters has any feature associated with them</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="comment">// 3. check convergence</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">if</span>(first_time)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        first_time = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="comment">//goon = !eqUChar(last_assoc, assoc);</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        goon = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; current_association.size(); i++)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;          <span class="keywordflow">if</span>(current_association[i] != last_association[i]){</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            goon = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;          }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">if</span>(goon)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <span class="comment">// copy last feature-cluster association</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                last_association = current_association;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                <span class="comment">//last_assoc = assoc.clone();</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        } <span class="comment">// while(goon)</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  } <span class="comment">// if must run kmeans</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// create nodes</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; clusters.size(); ++i)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="class_node_id.html">NodeId</a> <span class="keywordtype">id</span> = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.size();</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.push_back(Node(<span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.back().descriptor = clusters[i];</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.back().parent = parent_id;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[parent_id].children.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// go on with the next level</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">if</span>(current_level &lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a>)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// iterate again with the resulting clusters</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keyword">const</span> vector&lt;NodeId&gt; &amp;children_ids = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[parent_id].children;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; clusters.size(); ++i)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="class_node_id.html">NodeId</a> <span class="keywordtype">id</span> = children_ids[i];</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      vector&lt;pDescriptor&gt; child_features;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      child_features.reserve(groups[i].<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a8baad280d6daf74ee43d7cd911363137">size</a>());</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      vector&lt;unsigned int&gt;::const_iterator vit;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">for</span>(vit = groups[i].begin(); vit != groups[i].end(); ++vit)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        child_features.push_back(descriptors[*vit]);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordflow">if</span>(child_features.size() &gt; 1)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#ab79623d30a8550414e1f4bf916869f05">HKmeansStep</a>(<span class="keywordtype">id</span>, child_features, current_level + 1);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3915e44667d32130e17791147730b7da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3915e44667d32130e17791147730b7da">&#9670;&nbsp;</a></span>initiateClusters()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::initiateClusters </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>descriptors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; TDescriptor &gt; &amp;&#160;</td>
          <td class="paramname"><em>clusters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates k clusters from the given descriptors with some seeding algorithm. </p><dl class="section note"><dt>Note</dt><dd>In this class, kmeans++ is used, but this function should be overriden by inherited classes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00825">825</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;{</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa4c94955c7e03ec39fc0d9b9ce60009f">initiateClustersKMpp</a>(descriptors, clusters);  </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4c94955c7e03ec39fc0d9b9ce60009f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c94955c7e03ec39fc0d9b9ce60009f">&#9670;&nbsp;</a></span>initiateClustersKMpp()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::initiateClustersKMpp </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html#a442f794d23397c43809afca290bac81c">pDescriptor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>descriptors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; TDescriptor &gt; &amp;&#160;</td>
          <td class="paramname"><em>clusters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates k clusters from the given descriptor sets by running the initial step of kmeans++ </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptors</td><td></td></tr>
    <tr><td class="paramname">clusters</td><td>resulting clusters </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00833">833</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// Implements kmeans++ seeding algorithm</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// Algorithm:</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// 1. Choose one center uniformly at random from among the data points.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// 2. For each data point x, compute D(x), the distance between x and the nearest </span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">//    center that has already been chosen.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">// 3. Add one new data point as a center. Each point x is chosen with probability </span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">//    proportional to D(x)^2.</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// 4. Repeat Steps 2 and 3 until k centers have been chosen.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="comment">// 5. Now that the initial centers have been chosen, proceed using standard k-means </span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">//    clustering.</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <a class="code" href="class_d_utils_1_1_random.html#a168e77d82ce1e66c6759e97ef27adbbc">DUtils::Random::SeedRandOnce</a>();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  clusters.resize(0);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  clusters.reserve(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  vector&lt;double&gt; min_dists(pfeatures.size(), std::numeric_limits&lt;double&gt;::max());</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="comment">// 1.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordtype">int</span> ifeature = <a class="code" href="class_d_utils_1_1_random.html#aa25012101ecbca54025d5430bcf93d86">DUtils::Random::RandomInt</a>(0, pfeatures.size()-1);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">// create first cluster</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  clusters.push_back(*pfeatures[ifeature]);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// compute the initial distances</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keyword">typename</span> vector&lt;pDescriptor&gt;::const_iterator fit;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  vector&lt;double&gt;::iterator dit;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  dit = min_dists.begin();</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordflow">for</span>(fit = pfeatures.begin(); fit != pfeatures.end(); ++fit, ++dit)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    *dit = F::distance(*(*fit), clusters.back());</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  }  </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">while</span>((<span class="keywordtype">int</span>)clusters.size() &lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// 2.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    dit = min_dists.begin();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">for</span>(fit = pfeatures.begin(); fit != pfeatures.end(); ++fit, ++dit)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">if</span>(*dit &gt; 0)</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordtype">double</span> dist = F::distance(*(*fit), clusters.back());</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">if</span>(dist &lt; *dit) *dit = dist;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">// 3.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordtype">double</span> dist_sum = std::accumulate(min_dists.begin(), min_dists.end(), 0.0);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span>(dist_sum &gt; 0)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <span class="keywordtype">double</span> cut_d;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">do</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        cut_d = DUtils::Random::RandomValue&lt;double&gt;(0, dist_sum);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      } <span class="keywordflow">while</span>(cut_d == 0.0);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordtype">double</span> d_up_now = 0;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">for</span>(dit = min_dists.begin(); dit != min_dists.end(); ++dit)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        d_up_now += *dit;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span>(d_up_now &gt;= cut_d) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">if</span>(dit == min_dists.end()) </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        ifeature = pfeatures.size()-1;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        ifeature = dit - min_dists.begin();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      clusters.push_back(*pfeatures[ifeature]);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    } <span class="comment">// if dist_sum &gt; 0</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  } <span class="comment">// while(used_clusters &lt; m_k)</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_random_8cpp_source.html#l00047">DUtils::Random::RandomInt()</a>, and <a class="el" href="_random_8cpp_source.html#l00024">DUtils::Random::SeedRandOnce()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_aa4c94955c7e03ec39fc0d9b9ce60009f_cgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_aa4c94955c7e03ec39fc0d9b9ce60009f_cgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_aa4c94955c7e03ec39fc0d9b9ce60009f_cgraph" id="class_d_bo_w2_1_1_templated_vocabulary_aa4c94955c7e03ec39fc0d9b9ce60009f_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,224,65"/>
<area shape="rect" href="class_d_utils_1_1_random.html#aa25012101ecbca54025d5430bcf93d86" title=" " alt="" coords="286,5,489,32"/>
<area shape="rect" href="class_d_utils_1_1_random.html#a168e77d82ce1e66c6759e97ef27adbbc" title=" " alt="" coords="272,56,503,83"/>
<area shape="rect" href="class_d_utils_1_1_random.html#a719a6489316343a771e062f0be58050f" title=" " alt="" coords="551,56,748,83"/>
<area shape="rect" href="class_d_utils_1_1_timestamp.html#a360ea9b3a339c315f1a1eb2416787088" title=" " alt="" coords="796,15,947,57"/>
<area shape="rect" href="class_d_utils_1_1_timestamp.html#ae27c920f3833c104096213c6fb17f4d8" title=" " alt="" coords="796,81,947,122"/>
</map>
</div>

</div>
</div>
<a id="a037ba240314ff30f3620fb4de6845c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a037ba240314ff30f3620fb4de6845c66">&#9670;&nbsp;</a></span>load() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::load </td>
          <td>(</td>
          <td class="paramtype">const cv::FileStorage &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;vocabulary&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads the vocabulary from a file storage node </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>first node </td></tr>
    <tr><td class="paramname">subname</td><td>name of the child node of fn where the tree is stored. If not given, the fn node is used instead </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01573">1573</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;{</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.clear();</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.clear();</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  cv::FileNode fvoc = fs[name];</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a> = (<a class="code" href="classint.html">int</a>)fvoc[<span class="stringliteral">&quot;k&quot;</span>];</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> = (<a class="code" href="classint.html">int</a>)fvoc[<span class="stringliteral">&quot;L&quot;</span>];</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a> = (<a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a>)((<span class="keywordtype">int</span>)fvoc[<span class="stringliteral">&quot;scoringType&quot;</span>]);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> = (<a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a>)((<span class="keywordtype">int</span>)fvoc[<span class="stringliteral">&quot;weightingType&quot;</span>]);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  </div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">createScoringObject</a>();</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="comment">// nodes</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  cv::FileNode fn = fvoc[<span class="stringliteral">&quot;nodes&quot;</span>];</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.resize(fn.size() + 1); <span class="comment">// +1 to include root</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[0].id = 0;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; fn.size(); ++i)</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="class_node_id.html">NodeId</a> nid = (<a class="code" href="classint.html">int</a>)fn[i][<span class="stringliteral">&quot;nodeId&quot;</span>];</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="class_node_id.html">NodeId</a> pid = (<a class="code" href="classint.html">int</a>)fn[i][<span class="stringliteral">&quot;parentId&quot;</span>];</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> weight = (<a class="code" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a>)fn[i][<span class="stringliteral">&quot;weight&quot;</span>];</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordtype">string</span> d = (string)fn[i][<span class="stringliteral">&quot;descriptor&quot;</span>];</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].id = nid;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].parent = pid;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].weight = weight;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[pid].children.push_back(nid);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    F::fromString(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].descriptor, d);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="comment">// words</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  fn = fvoc[<span class="stringliteral">&quot;words&quot;</span>];</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.resize(fn.size());</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; fn.size(); ++i)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <a class="code" href="class_node_id.html">NodeId</a> wid = (<a class="code" href="classint.html">int</a>)fn[i][<span class="stringliteral">&quot;wordId&quot;</span>];</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="class_node_id.html">NodeId</a> nid = (<a class="code" href="classint.html">int</a>)fn[i][<span class="stringliteral">&quot;nodeId&quot;</span>];</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].word_id = wid;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>[wid] = &amp;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid];</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afdec2031c98b9109451b1454f73348b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdec2031c98b9109451b1454f73348b0">&#9670;&nbsp;</a></span>load() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads the vocabulary from a file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01465">1465</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  cv::FileStorage fs(filename.c_str(), cv::FileStorage::READ);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">if</span>(!fs.isOpened()) <span class="keywordflow">throw</span> string(<span class="stringliteral">&quot;Could not open file &quot;</span>) + filename;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#afdec2031c98b9109451b1454f73348b0">load</a>(fs);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5447d0744100254c4da88ea039fb3414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5447d0744100254c4da88ea039fb3414">&#9670;&nbsp;</a></span>loadFromTextFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::loadFromTextFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads the vocabulary from a text file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01338">1338</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;{</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    ifstream f;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    f.open(filename.c_str());</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">if</span>(f.eof())</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.clear();</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.clear();</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordtype">string</span> s;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    getline(f,s);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    stringstream ss;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    ss &lt;&lt; s;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    ss &gt;&gt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    ss &gt;&gt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordtype">int</span> n1, n2;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    ss &gt;&gt; n1;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    ss &gt;&gt; n2;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">if</span>(m_k&lt;0 || m_k&gt;20 || m_L&lt;1 || m_L&gt;10 || n1&lt;0 || n1&gt;5 || n2&lt;0 || n2&gt;3)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Vocabulary loading failure: This is not a correct text file!&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a> = (<a class="code" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a>)n1;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> = (<a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a>)n2;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">createScoringObject</a>();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="comment">// nodes</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordtype">int</span> expected_nodes =</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    (<a class="code" href="classint.html">int</a>)((pow((<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>, (<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> + 1) - 1)/(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a> - 1));</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.reserve(expected_nodes);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.reserve(pow((<span class="keywordtype">double</span>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>, (<a class="code" href="classdouble.html">double</a>)<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> + 1));</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.resize(1);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[0].id = 0;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">while</span>(!f.eof())</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordtype">string</span> snode;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        getline(f,snode);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        stringstream ssnode;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        ssnode &lt;&lt; snode;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordtype">int</span> nid = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.size();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.resize(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.size()+1);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].id = nid;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordtype">int</span> pid ;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        ssnode &gt;&gt; pid;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].parent = pid;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[pid].children.push_back(nid);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="keywordtype">int</span> nIsLeaf;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        ssnode &gt;&gt; nIsLeaf;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        stringstream ssd;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> iD=0;iD&lt;F::L;iD++)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keywordtype">string</span> sElement;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            ssnode &gt;&gt; sElement;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            ssd &lt;&lt; sElement &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        F::fromString(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].descriptor, ssd.str());</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        ssnode &gt;&gt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].weight;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">if</span>(nIsLeaf&gt;0)</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="keywordtype">int</span> wid = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.size();</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.resize(wid+1);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].word_id = wid;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>[wid] = &amp;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid];</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[nid].children.reserve(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_system_8cc_source.html#l00041">ORB_SLAM3::System::System()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a5447d0744100254c4da88ea039fb3414_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a5447d0744100254c4da88ea039fb3414_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a5447d0744100254c4da88ea039fb3414_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a5447d0744100254c4da88ea039fb3414_icgraph">
<area shape="rect" title=" " alt="" coords="220,5,439,47"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a5e4851c1b0d0de361c208a68e9950b2e" title=" " alt="" coords="5,5,172,47"/>
</map>
</div>

</div>
</div>
<a id="a5355c25b6f37c11acffe48996e19323f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5355c25b6f37c11acffe48996e19323f">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a>&lt; TDescriptor, F &gt; &amp; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">TemplatedVocabulary</a>&lt; TDescriptor, F &gt; &amp;&#160;</td>
          <td class="paramname"><em>voc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns the given vocabulary to this by copying its data and removing all the data contained by this vocabulary before </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voc</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>reference to this vocabulary </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00537">537</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{  </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a> = voc.m_k;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> = voc.m_L;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a> = voc.m_scoring;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> = voc.m_weighting;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">createScoringObject</a>();</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.clear();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.clear();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a> = voc.m_nodes;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a9b74d107b7dc6142cbed4e6ef44a8519">createWords</a>();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_templated_vocabulary_8h_source.html#l00408">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::m_k</a>.</p>

</div>
</div>
<a id="a92ca49bd6600bddbad145fb6e0543fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ca49bd6600bddbad145fb6e0543fa1">&#9670;&nbsp;</a></span>save() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::save </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Saves the vocabulary into a file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01454">1454</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;{</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  cv::FileStorage fs(filename.c_str(), cv::FileStorage::WRITE);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">if</span>(!fs.isOpened()) <span class="keywordflow">throw</span> string(<span class="stringliteral">&quot;Could not open file &quot;</span>) + filename;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a92ca49bd6600bddbad145fb6e0543fa1">save</a>(fs);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3039529c46f02b795450f4fba2207339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3039529c46f02b795450f4fba2207339">&#9670;&nbsp;</a></span>save() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::save </td>
          <td>(</td>
          <td class="paramtype">cv::FileStorage &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;vocabulary&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Saves the vocabulary to a file storage structure </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>node in file storage </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01476">1476</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;{</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="comment">// Format YAML:</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="comment">// vocabulary </span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="comment">// {</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="comment">//   k:</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="comment">//   L:</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">//   scoringType:</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">//   weightingType:</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">//   nodes </span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="comment">//   [</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">//       nodeId:</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="comment">//       parentId:</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="comment">//       weight:</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="comment">//       descriptor: </span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">//   ]</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">//   words</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">//   [</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">//       wordId:</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="comment">//       nodeId:</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="comment">//   ]</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// The root node (index 0) is not included in the node vector</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  f &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot;{&quot;</span>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;k&quot;</span> &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;L&quot;</span> &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;scoringType&quot;</span> &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a>;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;weightingType&quot;</span> &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// tree</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;nodes&quot;</span> &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  vector&lt;NodeId&gt; parents, children;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  vector&lt;NodeId&gt;::const_iterator pit;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  parents.push_back(0); <span class="comment">// root</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">while</span>(!parents.empty())</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <a class="code" href="class_node_id.html">NodeId</a> pid = parents.back();</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    parents.pop_back();</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keyword">const</span> Node&amp; parent = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[pid];</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    children = parent.children;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">for</span>(pit = children.begin(); pit != children.end(); pit++)</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keyword">const</span> Node&amp; child = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[*pit];</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="comment">// save node data</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      f &lt;&lt; <span class="stringliteral">&quot;{:&quot;</span>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      f &lt;&lt; <span class="stringliteral">&quot;nodeId&quot;</span> &lt;&lt; (<a class="code" href="classint.html">int</a>)child.id;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      f &lt;&lt; <span class="stringliteral">&quot;parentId&quot;</span> &lt;&lt; (<span class="keywordtype">int</span>)pid;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      f &lt;&lt; <span class="stringliteral">&quot;weight&quot;</span> &lt;&lt; (<a class="code" href="classdouble.html">double</a>)child.weight;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      f &lt;&lt; <span class="stringliteral">&quot;descriptor&quot;</span> &lt;&lt; F::toString(child.descriptor);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      f &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="comment">// add to parent list</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="keywordflow">if</span>(!child.isLeaf())</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        parents.push_back(*pit);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>; <span class="comment">// nodes</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="comment">// words</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;words&quot;</span> &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keyword">typename</span> vector&lt;Node*&gt;::const_iterator wit;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">for</span>(wit = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.begin(); wit != <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.end(); wit++)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> <span class="keywordtype">id</span> = wit - <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.begin();</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    f &lt;&lt; <span class="stringliteral">&quot;{:&quot;</span>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    f &lt;&lt; <span class="stringliteral">&quot;wordId&quot;</span> &lt;&lt; (<a class="code" href="classint.html">int</a>)<span class="keywordtype">id</span>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    f &lt;&lt; <span class="stringliteral">&quot;nodeId&quot;</span> &lt;&lt; (<a class="code" href="classint.html">int</a>)(*wit)-&gt;id;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    f &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  }</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>; <span class="comment">// words</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  f &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_templated_vocabulary_8h_source.html#l00304">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::children</a>, <a class="el" href="_templated_vocabulary_8h_source.html#l00308">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::descriptor</a>, <a class="el" href="_templated_vocabulary_8h_source.html#l00300">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::id</a>, <a class="el" href="_templated_vocabulary_8h_source.html#l00328">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::isLeaf()</a>, and <a class="el" href="_templated_vocabulary_8h_source.html#l00302">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::weight</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a3039529c46f02b795450f4fba2207339_cgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a3039529c46f02b795450f4fba2207339_cgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a3039529c46f02b795450f4fba2207339_cgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a3039529c46f02b795450f4fba2207339_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,224,47"/>
<area shape="rect" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html#a050a0ee173dd58475dd2ab84e6f215e8" title=" " alt="" coords="272,5,491,47"/>
</map>
</div>

</div>
</div>
<a id="a1338b014b856d0a17e71010f6488548e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1338b014b856d0a17e71010f6488548e">&#9670;&nbsp;</a></span>saveToTextFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::saveToTextFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Saves the vocabulary into a text file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01429">1429</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;{</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    fstream f;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    f.open(filename.c_str(),ios_base::out);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    f &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">m_k</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=1; i&lt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>.size();i++)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keyword">const</span> Node&amp; node = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[i];</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        f &lt;&lt; node.parent &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="keywordflow">if</span>(node.isLeaf())</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            f &lt;&lt; 1 &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            f &lt;&lt; 0 &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        f &lt;&lt; F::toString(node.descriptor) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; (<a class="code" href="classdouble.html">double</a>)node.weight &lt;&lt; endl;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    f.close();</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_templated_vocabulary_8h_source.html#l00308">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::descriptor</a>, <a class="el" href="_templated_vocabulary_8h_source.html#l00328">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::isLeaf()</a>, <a class="el" href="_templated_vocabulary_8h_source.html#l00306">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::parent</a>, and <a class="el" href="_templated_vocabulary_8h_source.html#l00302">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::Node::weight</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a1338b014b856d0a17e71010f6488548e_cgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a1338b014b856d0a17e71010f6488548e_cgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a1338b014b856d0a17e71010f6488548e_cgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a1338b014b856d0a17e71010f6488548e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,224,47"/>
<area shape="rect" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html#a050a0ee173dd58475dd2ab84e6f215e8" title=" " alt="" coords="272,5,491,47"/>
</map>
</div>

</div>
</div>
<a id="aedde9cc3255e41fd0441055eeb640346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedde9cc3255e41fd0441055eeb640346">&#9670;&nbsp;</a></span>score()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdouble.html">double</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::score </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the score of two vectors </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>vector </td></tr>
    <tr><td class="paramname">b</td><td>vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>score between vectors </dd></dl>
<dl class="section note"><dt>Note</dt><dd>the vectors must be already sorted and normalized if necessary </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01200">1200</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;{</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>-&gt;<a class="code" href="class_d_bo_w2_1_1_general_scoring.html#a43b3f5fedb19e6a19e17b9813efd17e8">score</a>(v1, v2);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_key_frame_database_8cc_source.html#l00468">ORB_SLAM3::KeyFrameDatabase::DetectBestCandidates()</a>, <a class="el" href="_key_frame_database_8cc_source.html#l00228">ORB_SLAM3::KeyFrameDatabase::DetectCandidates()</a>, <a class="el" href="_key_frame_database_8cc_source.html#l00100">ORB_SLAM3::KeyFrameDatabase::DetectLoopCandidates()</a>, <a class="el" href="_key_frame_database_8cc_source.html#l00604">ORB_SLAM3::KeyFrameDatabase::DetectNBestCandidates()</a>, and <a class="el" href="_key_frame_database_8cc_source.html#l00733">ORB_SLAM3::KeyFrameDatabase::DetectRelocalizationCandidates()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_aedde9cc3255e41fd0441055eeb640346_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_aedde9cc3255e41fd0441055eeb640346_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_aedde9cc3255e41fd0441055eeb640346_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_aedde9cc3255e41fd0441055eeb640346_icgraph">
<area shape="rect" title=" " alt="" coords="1617,136,1836,177"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#a99e7f2942343ad3b7e2cf4a0015c8931" title=" " alt="" coords="1331,5,1569,47"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#a43ab3e0e970a318146fbbd5ee73368e1" title=" " alt="" coords="1331,71,1569,112"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#aa768d78a596e71e44068e5e191e710c5" title=" " alt="" coords="1331,136,1569,177"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#a838cba6df4bad4a5250738c593e6b29c" title=" " alt="" coords="1331,201,1569,243"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#a82e84b2873fca11271d8afbc668272d0" title=" " alt="" coords="1331,267,1569,308"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_loop_closing.html#aa8c70961dd01d543b419effd3fa75bd0" title=" " alt="" coords="1069,185,1283,227"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_loop_closing.html#a42da26bf21341d818f4f8543f345f405" title=" " alt="" coords="799,189,1021,215"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a5e4851c1b0d0de361c208a68e9950b2e" title=" " alt="" coords="582,176,749,217"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a4c65126443ba6c0f7ed57a36c76cae41" title=" " alt="" coords="1093,267,1259,308"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a9ae56ac238d5dfe53a860a0bc8100b44" title=" " alt="" coords="827,299,993,340"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a27af981c7e57c10fd41dfb0120915113" title=" " alt="" coords="580,241,751,283"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a18c1fdd1f5a94613fd3df5ea1f6957b9" title=" " alt="" coords="583,307,748,348"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a6d6dad2bc132a51b16b31d194ff7e71c" title=" " alt="" coords="583,372,748,413"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a5301f3aaf838723535909b40e0afc349" title=" " alt="" coords="365,241,532,283"/>
<area shape="rect" href="_monocular-_inertial_2mono__inertial__euroc_8cc.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="185,206,240,233"/>
<area shape="rect" href="class_image_grabber.html#aeeabc012ca952da7f703bcece5ae13a9" title=" " alt="" coords="108,257,317,283"/>
<area shape="rect" href="ros__mono__inertial_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,257,60,283"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a8ba14ed9907c46696cd020907728982f" title=" " alt="" coords="365,307,532,348"/>
<area shape="rect" href="_r_g_b-_d-_inertial_2rgbd__inertial__realsense___d435i_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="185,314,240,341"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a05ad775f15134ca22413748c792d88f4" title=" " alt="" coords="365,372,532,413"/>
<area shape="rect" href="_stereo-_inertial_2stereo__inertial__euroc_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="185,379,240,406"/>
</map>
</div>

</div>
</div>
<a id="af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8">&#9670;&nbsp;</a></span>setNodeWeights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::setNodeWeights </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; vector&lt; TDescriptor &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>features</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the weights of the nodes of tree according to the given features. Before calling this function, the nodes and the words must be already created (by calling HKmeansStep and createWords) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00944">944</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;{</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NWords = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.size();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NDocs = training_features.size();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aa15d1950b5707de9ac0760c2c6dae48bd">TF</a> || <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aae517632073c3a0b980558ebb6519d759">BINARY</a>)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="comment">// idf part must be 1 always</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; NWords; i++)</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>[i]-&gt;weight = 1;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aa5a1c1f7cd866c8bea4551e296298c3bc">IDF</a> || <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aaa3425e88466862008dff6883e07e205d">TF_IDF</a>)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// IDF and TF-IDF: we calculte the idf path now</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="comment">// Note: this actually calculates the idf part of the tf-idf score.</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="comment">// The complete tf-idf score is calculated in ::transform</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    vector&lt;unsigned int&gt; Ni(NWords, 0);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    vector&lt;bool&gt; counted(NWords, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keyword">typename</span> vector&lt;vector&lt;TDescriptor&gt; &gt;::const_iterator mit;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keyword">typename</span> vector&lt;TDescriptor&gt;::const_iterator fit;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">for</span>(mit = training_features.begin(); mit != training_features.end(); ++mit)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      fill(counted.begin(), counted.end(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">for</span>(fit = mit-&gt;begin(); fit &lt; mit-&gt;end(); ++fit)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <a class="code" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> word_id;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a>(*fit, word_id);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">if</span>(!counted[word_id])</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          Ni[word_id]++;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          counted[word_id] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// set ln(N/Ni)</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; NWords; i++)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="keywordflow">if</span>(Ni[i] &gt; 0)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>[i]-&gt;weight = log((<span class="keywordtype">double</span>)NDocs / (<span class="keywordtype">double</span>)Ni[i]);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      }<span class="comment">// else // This cannot occur if using kmeans++</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_bow_vector_8h_source.html#l00044">DBoW2::BINARY</a>, <a class="el" href="_bow_vector_8h_source.html#l00043">DBoW2::IDF</a>, <a class="el" href="_bow_vector_8h_source.html#l00042">DBoW2::TF</a>, and <a class="el" href="_bow_vector_8h_source.html#l00041">DBoW2::TF_IDF</a>.</p>

</div>
</div>
<a id="a05a6c2f46184618c9ea8368f53e6980c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05a6c2f46184618c9ea8368f53e6980c">&#9670;&nbsp;</a></span>setScoringType()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::setScoringType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Changes the scoring method </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>new scoring type </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00500">500</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">m_scoring</a> = type;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">createScoringObject</a>();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8f63a3379debd40214899d996cfc733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f63a3379debd40214899d996cfc733">&#9670;&nbsp;</a></span>setWeightingType()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::setWeightingType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Changes the weighting method </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>new weighting type </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00509">509</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  this-&gt;<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> = type;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8baad280d6daf74ee43d7cd911363137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8baad280d6daf74ee43d7cd911363137">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classint.html">int</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of words in the vocabulary </p><dl class="section return"><dt>Returns</dt><dd>number of words </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01001">1001</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;{</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.size();</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_key_frame_database_8cc_source.html#l00068">ORB_SLAM3::KeyFrameDatabase::clear()</a>, <a class="el" href="_key_frame_database_8cc_source.html#l00032">ORB_SLAM3::KeyFrameDatabase::KeyFrameDatabase()</a>, <a class="el" href="_templated_vocabulary_8h_source.html#l01632">DBoW2::operator&lt;&lt;()</a>, and <a class="el" href="_key_frame_database_8cc_source.html#l00847">ORB_SLAM3::KeyFrameDatabase::SetORBVocabulary()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a8baad280d6daf74ee43d7cd911363137_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a8baad280d6daf74ee43d7cd911363137_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a8baad280d6daf74ee43d7cd911363137_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a8baad280d6daf74ee43d7cd911363137_icgraph">
<area shape="rect" title=" " alt="" coords="1079,201,1297,242"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#a51dc02e14aff8107b3ea812f2111c60e" title=" " alt="" coords="793,106,1031,147"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#a8da1eff74b3ed56b2372694eaebc9693" title=" " alt="" coords="793,171,1031,213"/>
<area shape="rect" href="namespace_d_bo_w2.html#aecdf616fe16d2cf09f521a603b9d43f1" title=" " alt="" coords="835,237,989,264"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame_database.html#abb949e87efaa71ebe4f19ef3dbcc59fb" title=" " alt="" coords="793,289,1031,330"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a9e27c5599a1a19529cbbb251c55b6d67" title=" " alt="" coords="580,106,745,147"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a5301f3aaf838723535909b40e0afc349" title=" " alt="" coords="365,41,532,82"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a8ba14ed9907c46696cd020907728982f" title=" " alt="" coords="365,106,532,147"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a05ad775f15134ca22413748c792d88f4" title=" " alt="" coords="365,171,532,213"/>
<area shape="rect" href="_monocular-_inertial_2mono__inertial__euroc_8cc.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="185,5,240,32"/>
<area shape="rect" href="class_image_grabber.html#aeeabc012ca952da7f703bcece5ae13a9" title=" " alt="" coords="108,56,317,83"/>
<area shape="rect" href="ros__mono__inertial_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,56,60,83"/>
<area shape="rect" href="_r_g_b-_d-_inertial_2rgbd__inertial__realsense___d435i_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="185,113,240,140"/>
<area shape="rect" href="_stereo-_inertial_2stereo__inertial__euroc_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="185,179,240,205"/>
</map>
</div>

</div>
</div>
<a id="a0b6721fde54bd8cd008f6a120398741e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b6721fde54bd8cd008f6a120398741e">&#9670;&nbsp;</a></span>stopWords()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::stopWords </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&#160;</td>
          <td class="paramname"><em>minWeight</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stops those words whose weight is below minWeight. Words are stopped by setting their weight to 0. There are not returned later when transforming image features into vectors. Note that when using IDF or TF_IDF, the weight is the idf part, which is equivalent to -log(f), where f is the frequency of the word (f = Ni/N, Ni: number of training images where the word is present, N: number of training images). Note that the old weight is forgotten, and subsequent calls to this function with a lower minWeight have no effect. </p><dl class="section return"><dt>Returns</dt><dd>number of words stopped now </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01320">1320</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;{</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keywordtype">int</span> c = 0;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keyword">typename</span> vector&lt;Node*&gt;::iterator wit;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="keywordflow">for</span>(wit = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.begin(); wit != <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">m_words</a>.end(); ++wit)</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">if</span>((*wit)-&gt;weight &lt; minWeight)</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      ++c;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      (*wit)-&gt;weight = 0;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a01de3bebec37624439c7d3baf6651ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01de3bebec37624439c7d3baf6651ff0">&#9670;&nbsp;</a></span>transform() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::transform </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; TDescriptor &gt; &amp;&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transforms a set of descriptores into a bow vector </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td></td></tr>
    <tr><td class="paramname">v</td><td>(out) bow vector of weighted words </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01066">1066</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;{</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  v.clear();</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#ad7bbb3cf53f8f9f3610b9b67c551ba8e">empty</a>())</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// normalize </span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="namespace_d_bo_w2.html#a53e9e0bcfc25c861815e413a7cf3fa51">LNorm</a> norm;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordtype">bool</span> must = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>-&gt;<a class="code" href="class_d_bo_w2_1_1_general_scoring.html#ab0cadafd50b0f2f559f6325a6944f72f">mustNormalize</a>(norm);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keyword">typename</span> vector&lt;TDescriptor&gt;::const_iterator fit;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aa15d1950b5707de9ac0760c2c6dae48bd">TF</a> || <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aaa3425e88466862008dff6883e07e205d">TF_IDF</a>)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">for</span>(fit = features.begin(); fit &lt; features.end(); ++fit)</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> id;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> w; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <span class="comment">// w is the idf value if TF_IDF, 1 if TF</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a>(*fit, <span class="keywordtype">id</span>, w);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="comment">// not stopped</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">if</span>(w &gt; 0) v.addWeight(<span class="keywordtype">id</span>, w);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span>(!v.empty() &amp;&amp; !must)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="comment">// unnecessary when normalizing</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> nd = v.size();</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">for</span>(BowVector::iterator vit = v.begin(); vit != v.end(); vit++) </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        vit-&gt;second /= nd;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">else</span> <span class="comment">// IDF || BINARY</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">for</span>(fit = features.begin(); fit &lt; features.end(); ++fit)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> id;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> w;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="comment">// w is idf if IDF, or 1 if BINARY</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a>(*fit, <span class="keywordtype">id</span>, w);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="comment">// not stopped</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">if</span>(w &gt; 0) v.addIfNotExist(<span class="keywordtype">id</span>, w);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    } <span class="comment">// if add_features</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  } <span class="comment">// if m_weighting == ...</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">if</span>(must) v.normalize(norm);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_bow_vector_8cpp_source.html#l00050">DBoW2::BowVector::addIfNotExist()</a>, <a class="el" href="_bow_vector_8cpp_source.html#l00034">DBoW2::BowVector::addWeight()</a>, <a class="el" href="_bow_vector_8cpp_source.html#l00062">DBoW2::BowVector::normalize()</a>, <a class="el" href="_bow_vector_8h_source.html#l00042">DBoW2::TF</a>, and <a class="el" href="_bow_vector_8h_source.html#l00041">DBoW2::TF_IDF</a>.</p>

<p class="reference">Referenced by <a class="el" href="_frame_8cc_source.html#l00738">ORB_SLAM3::Frame::ComputeBoW()</a>, and <a class="el" href="_key_frame_8cc_source.html#l00098">ORB_SLAM3::KeyFrame::ComputeBoW()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_cgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_cgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_cgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,224,105"/>
<area shape="rect" href="class_d_bo_w2_1_1_bow_vector.html#a5ddf10e444d10425e5bd3568dc7ffe5e" title=" " alt="" coords="279,5,491,47"/>
<area shape="rect" href="class_d_bo_w2_1_1_bow_vector.html#a3ac92a805b252c93dc6535240d02df47" title=" " alt="" coords="272,71,499,98"/>
<area shape="rect" href="class_d_bo_w2_1_1_bow_vector.html#acd2dd34023e3053a4cc75d70c8b6ac13" title=" " alt="" coords="275,122,496,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_icgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_icgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_icgraph" id="class_d_bo_w2_1_1_templated_vocabulary_a01de3bebec37624439c7d3baf6651ff0_icgraph">
<area shape="rect" title=" " alt="" coords="1899,142,2117,183"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_frame.html#a2128e2002fe54942f0f5ea3a443ba824" title=" " alt="" coords="1380,113,1628,140"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_key_frame.html#ab0be918abef0dfe347ca26d1e199dc76" title=" " alt="" coords="1676,171,1851,213"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a4c65126443ba6c0f7ed57a36c76cae41" title=" " alt="" coords="1149,41,1315,82"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a55da5504ae1641b5d4c9dfc4038fb99e" title=" " alt="" coords="1134,106,1330,147"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a9ae56ac238d5dfe53a860a0bc8100b44" title=" " alt="" coords="885,106,1050,147"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a27af981c7e57c10fd41dfb0120915113" title=" " alt="" coords="606,41,777,82"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a18c1fdd1f5a94613fd3df5ea1f6957b9" title=" " alt="" coords="609,106,774,147"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a6d6dad2bc132a51b16b31d194ff7e71c" title=" " alt="" coords="609,171,774,213"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a5301f3aaf838723535909b40e0afc349" title=" " alt="" coords="365,41,532,82"/>
<area shape="rect" href="_monocular-_inertial_2mono__inertial__euroc_8cc.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="185,5,240,32"/>
<area shape="rect" href="class_image_grabber.html#aeeabc012ca952da7f703bcece5ae13a9" title=" " alt="" coords="108,56,317,83"/>
<area shape="rect" href="ros__mono__inertial_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,56,60,83"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a8ba14ed9907c46696cd020907728982f" title=" " alt="" coords="365,106,532,147"/>
<area shape="rect" href="_r_g_b-_d-_inertial_2rgbd__inertial__realsense___d435i_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="185,113,240,140"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a05ad775f15134ca22413748c792d88f4" title=" " alt="" coords="365,171,532,213"/>
<area shape="rect" href="_stereo-_inertial_2stereo__inertial__euroc_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="185,179,240,205"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a31b779f423e6a6b9f0119fa0d98eb511" title=" " alt="" coords="1401,171,1607,213"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_local_mapping.html#adce60fb98f070c4ac76d58a3a2e08e95" title=" " alt="" coords="1404,302,1604,343"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_tracking.html#a6add3249e1be8a4630fc2d9e2e3681a6" title=" " alt="" coords="1143,171,1321,213"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_local_mapping.html#a702bf45ee92d85d37623209f023fadde" title=" " alt="" coords="1132,237,1332,278"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_local_mapping.html#abbd4bb45f894a3c0d2fc6ca0a227286f" title=" " alt="" coords="1132,302,1332,343"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_local_mapping.html#aa3bd8a66c4ee13694fe355eee1cdc9af" title=" " alt="" coords="851,368,1084,395"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_local_mapping.html#a22895e133b33b7b31eabe0703bad0ec9" title=" " alt="" coords="1132,419,1332,461"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_loop_closing.html#aa5ba3f14da84d05c97ac3a4a8aed0014" title=" " alt="" coords="873,171,1062,213"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_loop_closing.html#ace9ff596b08a851a6823eefc6fa66fb3" title=" " alt="" coords="873,237,1062,278"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_loop_closing.html#a73b9f9990537c4ce8ad21ca9a06fc1d8" title=" " alt="" coords="873,302,1062,343"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_loop_closing.html#a42da26bf21341d818f4f8543f345f405" title=" " alt="" coords="580,277,803,304"/>
<area shape="rect" href="class_o_r_b___s_l_a_m3_1_1_system.html#a5e4851c1b0d0de361c208a68e9950b2e" title=" " alt="" coords="365,297,532,338"/>
</map>
</div>

</div>
</div>
<a id="af3815440ed610974afc5a2836f54fe07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3815440ed610974afc5a2836f54fe07">&#9670;&nbsp;</a></span>transform() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::transform </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; TDescriptor &gt; &amp;&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_d_bo_w2_1_1_bow_vector.html">BowVector</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_d_bo_w2_1_1_feature_vector.html">FeatureVector</a> &amp;&#160;</td>
          <td class="paramname"><em>fv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>levelsup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transform a set of descriptors into a bow vector and a feature vector </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td></td></tr>
    <tr><td class="paramname">v</td><td>(out) bow vector </td></tr>
    <tr><td class="paramname">fv</td><td>(out) feature vector of nodes and feature indexes </td></tr>
    <tr><td class="paramname">levelsup</td><td>levels to go up the vocabulary tree to get the node index </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01127">1127</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;{</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  v.clear();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  fv.clear();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#ad7bbb3cf53f8f9f3610b9b67c551ba8e">empty</a>()) <span class="comment">// safe for subclasses</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// normalize </span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <a class="code" href="namespace_d_bo_w2.html#a53e9e0bcfc25c861815e413a7cf3fa51">LNorm</a> norm;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordtype">bool</span> must = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">m_scoring_object</a>-&gt;<a class="code" href="class_d_bo_w2_1_1_general_scoring.html#ab0cadafd50b0f2f559f6325a6944f72f">mustNormalize</a>(norm);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keyword">typename</span> vector&lt;TDescriptor&gt;::const_iterator fit;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aa15d1950b5707de9ac0760c2c6dae48bd">TF</a> || <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">m_weighting</a> == <a class="code" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aaa3425e88466862008dff6883e07e205d">TF_IDF</a>)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i_feature = 0;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">for</span>(fit = features.begin(); fit &lt; features.end(); ++fit, ++i_feature)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> id;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="class_node_id.html">NodeId</a> nid;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> w; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="comment">// w is the idf value if TF_IDF, 1 if TF</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a>(*fit, <span class="keywordtype">id</span>, w, &amp;nid, levelsup);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">if</span>(w &gt; 0) <span class="comment">// not stopped</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      { </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        v.addWeight(<span class="keywordtype">id</span>, w);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        fv.addFeature(nid, i_feature);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">if</span>(!v.empty() &amp;&amp; !must)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="comment">// unnecessary when normalizing</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> nd = v.size();</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">for</span>(BowVector::iterator vit = v.begin(); vit != v.end(); vit++) </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        vit-&gt;second /= nd;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">else</span> <span class="comment">// IDF || BINARY</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i_feature = 0;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">for</span>(fit = features.begin(); fit &lt; features.end(); ++fit, ++i_feature)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> id;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <a class="code" href="class_node_id.html">NodeId</a> nid;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <a class="code" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> w;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="comment">// w is idf if IDF, or 1 if BINARY</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a>(*fit, <span class="keywordtype">id</span>, w, &amp;nid, levelsup);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="keywordflow">if</span>(w &gt; 0) <span class="comment">// not stopped</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        v.addIfNotExist(<span class="keywordtype">id</span>, w);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        fv.addFeature(nid, i_feature);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  } <span class="comment">// if m_weighting == ...</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">if</span>(must) v.normalize(norm);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_feature_vector_8cpp_source.html#l00031">DBoW2::FeatureVector::addFeature()</a>, <a class="el" href="_bow_vector_8cpp_source.html#l00050">DBoW2::BowVector::addIfNotExist()</a>, <a class="el" href="_bow_vector_8cpp_source.html#l00034">DBoW2::BowVector::addWeight()</a>, <a class="el" href="_bow_vector_8cpp_source.html#l00062">DBoW2::BowVector::normalize()</a>, <a class="el" href="_bow_vector_8h_source.html#l00042">DBoW2::TF</a>, and <a class="el" href="_bow_vector_8h_source.html#l00041">DBoW2::TF_IDF</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_d_bo_w2_1_1_templated_vocabulary_af3815440ed610974afc5a2836f54fe07_cgraph.png" border="0" usemap="#class_d_bo_w2_1_1_templated_vocabulary_af3815440ed610974afc5a2836f54fe07_cgraph" alt=""/></div>
<map name="class_d_bo_w2_1_1_templated_vocabulary_af3815440ed610974afc5a2836f54fe07_cgraph" id="class_d_bo_w2_1_1_templated_vocabulary_af3815440ed610974afc5a2836f54fe07_cgraph">
<area shape="rect" title=" " alt="" coords="5,100,224,141"/>
<area shape="rect" href="class_d_bo_w2_1_1_feature_vector.html#ae9554bfcbebc85439616de08f47f2238" title=" " alt="" coords="301,5,470,47"/>
<area shape="rect" href="class_d_bo_w2_1_1_bow_vector.html#a5ddf10e444d10425e5bd3568dc7ffe5e" title=" " alt="" coords="279,71,491,112"/>
<area shape="rect" href="class_d_bo_w2_1_1_bow_vector.html#a3ac92a805b252c93dc6535240d02df47" title=" " alt="" coords="272,137,499,163"/>
<area shape="rect" href="class_d_bo_w2_1_1_bow_vector.html#acd2dd34023e3053a4cc75d70c8b6ac13" title=" " alt="" coords="275,187,496,214"/>
</map>
</div>

</div>
</div>
<a id="aa5003af19aacb6a322f7fdc0535eb149"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5003af19aacb6a322f7fdc0535eb149">&#9670;&nbsp;</a></span>transform() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::transform </td>
          <td>(</td>
          <td class="paramtype">const TDescriptor &amp;&#160;</td>
          <td class="paramname"><em>feature</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transforms a single feature into a word (without weight) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>word id </dd></dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01051">1051</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;{</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#ad7bbb3cf53f8f9f3610b9b67c551ba8e">empty</a>())</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> wid;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a>(feature, wid);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">return</span> wid;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a48a53ffe060c205e44ddd2e173eb96c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48a53ffe060c205e44ddd2e173eb96c4">&#9670;&nbsp;</a></span>transform() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::transform </td>
          <td>(</td>
          <td class="paramtype">const TDescriptor &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the word id associated to a feature </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td></td></tr>
    <tr><td class="paramname">id</td><td>(out) word id </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01209">1209</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;{</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <a class="code" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> weight;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">transform</a>(feature, <span class="keywordtype">id</span>, weight);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5af7e18ab438c3fbbb51bd9930c43444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af7e18ab438c3fbbb51bd9930c43444">&#9670;&nbsp;</a></span>transform() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::transform </td>
          <td>(</td>
          <td class="paramtype">const TDescriptor &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">WordId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">WordValue</a> &amp;&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_d_bo_w2.html#a3a0fa9c50c0df508759362d6204566f2">NodeId</a> *&#160;</td>
          <td class="paramname"><em>nid</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>levelsup</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the word id associated to a feature </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td></td></tr>
    <tr><td class="paramname">id</td><td>(out) word id </td></tr>
    <tr><td class="paramname">weight</td><td>(out) word weight </td></tr>
    <tr><td class="paramname">nid</td><td>(out) if given, id of the node "levelsup" levels up </td></tr>
    <tr><td class="paramname">levelsup</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l01218">1218</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;{ </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment">// propagate the feature down the tree</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  vector&lt;NodeId&gt; nodes;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keyword">typename</span> vector&lt;NodeId&gt;::const_iterator nit;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="comment">// level at which the node must be stored in nid, if given</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nid_level = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">m_L</a> - levelsup;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordflow">if</span>(nid_level &lt;= 0 &amp;&amp; nid != NULL) *nid = 0; <span class="comment">// root</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <a class="code" href="class_node_id.html">NodeId</a> final_id = 0; <span class="comment">// root</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keywordtype">int</span> current_level = 0;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    ++current_level;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    nodes = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[final_id].children;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    final_id = nodes[0];</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordtype">double</span> best_d = F::distance(feature, <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[final_id].descriptor);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">for</span>(nit = nodes.begin() + 1; nit != nodes.end(); ++nit)</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <a class="code" href="class_node_id.html">NodeId</a> <span class="keywordtype">id</span> = *nit;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="keywordtype">double</span> d = F::distance(feature, <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[<span class="keywordtype">id</span>].descriptor);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">if</span>(d &lt; best_d)</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        best_d = d;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        final_id = id;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span>(nid != NULL &amp;&amp; current_level == nid_level)</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      *nid = final_id;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  } <span class="keywordflow">while</span>( !<a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[final_id].isLeaf() );</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="comment">// turn node id into word id</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  word_id = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[final_id].word_id;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  weight = <a class="code" href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">m_nodes</a>[final_id].weight;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="aa5f7f829033a49833fe4fb5652b99337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f7f829033a49833fe4fb5652b99337">&#9670;&nbsp;</a></span>m_k</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::m_k</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Branching factor. </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00408">408</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_templated_vocabulary_8h_source.html#l00537">DBoW2::TemplatedVocabulary&lt; TDescriptor, F &gt;::operator=()</a>.</p>

</div>
</div>
<a id="a16735d9e2c8b901f01d541faea67971e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16735d9e2c8b901f01d541faea67971e">&#9670;&nbsp;</a></span>m_L</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::m_L</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Depth levels. </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00411">411</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

</div>
</div>
<a id="a82be6d310eae6f4f57a72d340489320b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82be6d310eae6f4f57a72d340489320b">&#9670;&nbsp;</a></span>m_nodes</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html">Node</a>&gt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::m_nodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tree nodes. </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00423">423</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

</div>
</div>
<a id="a89d8aa037f2b5c3c5cc953734bb5cb9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d8aa037f2b5c3c5cc953734bb5cb9f">&#9670;&nbsp;</a></span>m_scoring</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">ScoringType</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::m_scoring</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scoring method. </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00417">417</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

</div>
</div>
<a id="a34144d0e2056d6ed8b925a2937b67418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34144d0e2056d6ed8b925a2937b67418">&#9670;&nbsp;</a></span>m_scoring_object</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_bo_w2_1_1_general_scoring.html">GeneralScoring</a>* <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::m_scoring_object</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Object for computing scores. </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00420">420</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

</div>
</div>
<a id="abf03c6430d630674ddca5bab9c120c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf03c6430d630674ddca5bab9c120c51">&#9670;&nbsp;</a></span>m_weighting</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">WeightingType</a> <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::m_weighting</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Weighting method. </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00414">414</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

</div>
</div>
<a id="a1665546b54f954d2d54d59a6982df3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1665546b54f954d2d54d59a6982df3ca">&#9670;&nbsp;</a></span>m_words</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_d_bo_w2_1_1_templated_vocabulary_1_1_node.html">Node</a>*&gt; <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::m_words</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Words of the vocabulary (tree leaves) this condition holds: m_words[wid]-&gt;word_id == wid </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00427">427</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

</div>
</div>
<a id="a442f794d23397c43809afca290bac81c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a442f794d23397c43809afca290bac81c">&#9670;&nbsp;</a></span>pDescriptor</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TDescriptor , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const typedef TDescriptor* <a class="el" href="class_d_bo_w2_1_1_templated_vocabulary.html">DBoW2::TemplatedVocabulary</a>&lt; TDescriptor, F &gt;::pDescriptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to descriptor. </p>

<p class="definition">Definition at line <a class="el" href="_templated_vocabulary_8h_source.html#l00294">294</a> of file <a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Thirdparty/DBoW2/DBoW2/<a class="el" href="_templated_vocabulary_8h_source.html">TemplatedVocabulary.h</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="anamespace_d_bo_w2_html_ab1a0d3283b2d4690a383372ed20bfeb5"><div class="ttname"><a href="namespace_d_bo_w2.html#ab1a0d3283b2d4690a383372ed20bfeb5">DBoW2::WordId</a></div><div class="ttdeci">unsigned int WordId</div><div class="ttdoc">Id of words.</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00023">BowVector.h:23</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a8baad280d6daf74ee43d7cd911363137"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a8baad280d6daf74ee43d7cd911363137">DBoW2::TemplatedVocabulary::size</a></div><div class="ttdeci">virtual unsigned int size() const</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l01001">TemplatedVocabulary.h:1001</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_a5de5c8a307aca9a84ffefda2a9bc467aa15d1950b5707de9ac0760c2c6dae48bd"><div class="ttname"><a href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aa15d1950b5707de9ac0760c2c6dae48bd">DBoW2::TF</a></div><div class="ttdeci">@ TF</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00042">BowVector.h:42</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_ace8155a70fa5163d117dc6a2ef923205"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#ace8155a70fa5163d117dc6a2ef923205">DBoW2::TemplatedVocabulary::getFeatures</a></div><div class="ttdeci">void getFeatures(const vector&lt; vector&lt; TDescriptor &gt; &gt; &amp;training_features, vector&lt; pDescriptor &gt; &amp;features) const</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00621">TemplatedVocabulary.h:621</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_a5de5c8a307aca9a84ffefda2a9bc467aa5a1c1f7cd866c8bea4551e296298c3bc"><div class="ttname"><a href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aa5a1c1f7cd866c8bea4551e296298c3bc">DBoW2::IDF</a></div><div class="ttdeci">@ IDF</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00043">BowVector.h:43</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_ad7bbb3cf53f8f9f3610b9b67c551ba8e"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#ad7bbb3cf53f8f9f3610b9b67c551ba8e">DBoW2::TemplatedVocabulary::empty</a></div><div class="ttdeci">virtual bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l01009">TemplatedVocabulary.h:1009</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_aa252a592dd607c6e60dede06ceef2722ad1a4e066e848e5247e4d94dd3e08f509"><div class="ttname"><a href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722ad1a4e066e848e5247e4d94dd3e08f509">DBoW2::L2_NORM</a></div><div class="ttdeci">@ L2_NORM</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00051">BowVector.h:51</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a1665546b54f954d2d54d59a6982df3ca"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a1665546b54f954d2d54d59a6982df3ca">DBoW2::TemplatedVocabulary::m_words</a></div><div class="ttdeci">std::vector&lt; Node * &gt; m_words</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00427">TemplatedVocabulary.h:427</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_ab79623d30a8550414e1f4bf916869f05"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#ab79623d30a8550414e1f4bf916869f05">DBoW2::TemplatedVocabulary::HKmeansStep</a></div><div class="ttdeci">void HKmeansStep(NodeId parent_id, const vector&lt; pDescriptor &gt; &amp;descriptors, int current_level)</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00642">TemplatedVocabulary.h:642</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a9b74d107b7dc6142cbed4e6ef44a8519"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a9b74d107b7dc6142cbed4e6ef44a8519">DBoW2::TemplatedVocabulary::createWords</a></div><div class="ttdeci">void createWords()</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00918">TemplatedVocabulary.h:918</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_general_scoring_html_ab0cadafd50b0f2f559f6325a6944f72f"><div class="ttname"><a href="class_d_bo_w2_1_1_general_scoring.html#ab0cadafd50b0f2f559f6325a6944f72f">DBoW2::GeneralScoring::mustNormalize</a></div><div class="ttdeci">virtual bool mustNormalize(LNorm &amp;norm) const =0</div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_aa252a592dd607c6e60dede06ceef2722a2df432e58efd2a13d4950ee96aa6a20f"><div class="ttname"><a href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a2df432e58efd2a13d4950ee96aa6a20f">DBoW2::L1_NORM</a></div><div class="ttdeci">@ L1_NORM</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00050">BowVector.h:50</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_abf03c6430d630674ddca5bab9c120c51"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#abf03c6430d630674ddca5bab9c120c51">DBoW2::TemplatedVocabulary::m_weighting</a></div><div class="ttdeci">WeightingType m_weighting</div><div class="ttdoc">Weighting method.</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00414">TemplatedVocabulary.h:414</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a01de3bebec37624439c7d3baf6651ff0"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a01de3bebec37624439c7d3baf6651ff0">DBoW2::TemplatedVocabulary::transform</a></div><div class="ttdeci">virtual void transform(const std::vector&lt; TDescriptor &gt; &amp;features, BowVector &amp;v) const</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l01066">TemplatedVocabulary.h:1066</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_general_scoring_html_a43b3f5fedb19e6a19e17b9813efd17e8"><div class="ttname"><a href="class_d_bo_w2_1_1_general_scoring.html#a43b3f5fedb19e6a19e17b9813efd17e8">DBoW2::GeneralScoring::score</a></div><div class="ttdeci">virtual double score(const BowVector &amp;v, const BowVector &amp;w) const =0</div></div>
<div class="ttc" id="aclass_d_utils_1_1_random_html_aa25012101ecbca54025d5430bcf93d86"><div class="ttname"><a href="class_d_utils_1_1_random.html#aa25012101ecbca54025d5430bcf93d86">DUtils::Random::RandomInt</a></div><div class="ttdeci">static int RandomInt(int min, int max)</div><div class="ttdef"><b>Definition:</b> <a href="_random_8cpp_source.html#l00047">Random.cpp:47</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_aa252a592dd607c6e60dede06ceef2722"><div class="ttname"><a href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722">DBoW2::ScoringType</a></div><div class="ttdeci">ScoringType</div><div class="ttdoc">Scoring type.</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00048">BowVector.h:48</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#af7bf0ecd2d1ecc7d31ddca3aa7d1ddc8">DBoW2::TemplatedVocabulary::setNodeWeights</a></div><div class="ttdeci">void setNodeWeights(const vector&lt; vector&lt; TDescriptor &gt; &gt; &amp;features)</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00944">TemplatedVocabulary.h:944</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a16735d9e2c8b901f01d541faea67971e"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a16735d9e2c8b901f01d541faea67971e">DBoW2::TemplatedVocabulary::m_L</a></div><div class="ttdeci">int m_L</div><div class="ttdoc">Depth levels.</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00411">TemplatedVocabulary.h:411</a></div></div>
<div class="ttc" id="aclassdouble_html"><div class="ttname"><a href="classdouble.html">double</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a82be6d310eae6f4f57a72d340489320b"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a82be6d310eae6f4f57a72d340489320b">DBoW2::TemplatedVocabulary::m_nodes</a></div><div class="ttdeci">std::vector&lt; Node &gt; m_nodes</div><div class="ttdoc">Tree nodes.</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00423">TemplatedVocabulary.h:423</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_aa252a592dd607c6e60dede06ceef2722a14556ffa1d80b1c7540ea68506eb5b56"><div class="ttname"><a href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a14556ffa1d80b1c7540ea68506eb5b56">DBoW2::DOT_PRODUCT</a></div><div class="ttdeci">@ DOT_PRODUCT</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00055">BowVector.h:55</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_a5de5c8a307aca9a84ffefda2a9bc467aaa3425e88466862008dff6883e07e205d"><div class="ttname"><a href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aaa3425e88466862008dff6883e07e205d">DBoW2::TF_IDF</a></div><div class="ttdeci">@ TF_IDF</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00041">BowVector.h:41</a></div></div>
<div class="ttc" id="aclass_d_utils_1_1_random_html_a168e77d82ce1e66c6759e97ef27adbbc"><div class="ttname"><a href="class_d_utils_1_1_random.html#a168e77d82ce1e66c6759e97ef27adbbc">DUtils::Random::SeedRandOnce</a></div><div class="ttdeci">static void SeedRandOnce()</div><div class="ttdef"><b>Definition:</b> <a href="_random_8cpp_source.html#l00024">Random.cpp:24</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_afdec2031c98b9109451b1454f73348b0"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#afdec2031c98b9109451b1454f73348b0">DBoW2::TemplatedVocabulary::load</a></div><div class="ttdeci">void load(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l01465">TemplatedVocabulary.h:1465</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_a5de5c8a307aca9a84ffefda2a9bc467aae517632073c3a0b980558ebb6519d759"><div class="ttname"><a href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467aae517632073c3a0b980558ebb6519d759">DBoW2::BINARY</a></div><div class="ttdeci">@ BINARY</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00044">BowVector.h:44</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a89d8aa037f2b5c3c5cc953734bb5cb9f"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a89d8aa037f2b5c3c5cc953734bb5cb9f">DBoW2::TemplatedVocabulary::m_scoring</a></div><div class="ttdeci">ScoringType m_scoring</div><div class="ttdoc">Scoring method.</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00417">TemplatedVocabulary.h:417</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a3915e44667d32130e17791147730b7da"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a3915e44667d32130e17791147730b7da">DBoW2::TemplatedVocabulary::initiateClusters</a></div><div class="ttdeci">virtual void initiateClusters(const vector&lt; pDescriptor &gt; &amp;descriptors, vector&lt; TDescriptor &gt; &amp;clusters) const</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00825">TemplatedVocabulary.h:825</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a34144d0e2056d6ed8b925a2937b67418"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a34144d0e2056d6ed8b925a2937b67418">DBoW2::TemplatedVocabulary::m_scoring_object</a></div><div class="ttdeci">GeneralScoring * m_scoring_object</div><div class="ttdoc">Object for computing scores.</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00420">TemplatedVocabulary.h:420</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a3244d5a3d0f75ba9c9ae905c5365335d"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a3244d5a3d0f75ba9c9ae905c5365335d">DBoW2::TemplatedVocabulary::createScoringObject</a></div><div class="ttdeci">void createScoringObject()</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00463">TemplatedVocabulary.h:463</a></div></div>
<div class="ttc" id="aclass_node_id_html"><div class="ttname"><a href="class_node_id.html">NodeId</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_a5de5c8a307aca9a84ffefda2a9bc467a"><div class="ttname"><a href="namespace_d_bo_w2.html#a5de5c8a307aca9a84ffefda2a9bc467a">DBoW2::WeightingType</a></div><div class="ttdeci">WeightingType</div><div class="ttdoc">Weighting type.</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00039">BowVector.h:39</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_aa252a592dd607c6e60dede06ceef2722ad0bd4548b18fb1c165961506e199f38d"><div class="ttname"><a href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722ad0bd4548b18fb1c165961506e199f38d">DBoW2::CHI_SQUARE</a></div><div class="ttdeci">@ CHI_SQUARE</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00052">BowVector.h:52</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_aa4c94955c7e03ec39fc0d9b9ce60009f"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#aa4c94955c7e03ec39fc0d9b9ce60009f">DBoW2::TemplatedVocabulary::initiateClustersKMpp</a></div><div class="ttdeci">void initiateClustersKMpp(const vector&lt; pDescriptor &gt; &amp;descriptors, vector&lt; TDescriptor &gt; &amp;clusters) const</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00833">TemplatedVocabulary.h:833</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_aa252a592dd607c6e60dede06ceef2722a22de570628b33a2662630def802a23cb"><div class="ttname"><a href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a22de570628b33a2662630def802a23cb">DBoW2::BHATTACHARYYA</a></div><div class="ttdeci">@ BHATTACHARYYA</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00054">BowVector.h:54</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_a53e9e0bcfc25c861815e413a7cf3fa51"><div class="ttname"><a href="namespace_d_bo_w2.html#a53e9e0bcfc25c861815e413a7cf3fa51">DBoW2::LNorm</a></div><div class="ttdeci">LNorm</div><div class="ttdoc">L-norms for normalization.</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00032">BowVector.h:32</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_aa5f7f829033a49833fe4fb5652b99337"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#aa5f7f829033a49833fe4fb5652b99337">DBoW2::TemplatedVocabulary::m_k</a></div><div class="ttdeci">int m_k</div><div class="ttdoc">Branching factor.</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00408">TemplatedVocabulary.h:408</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a3679b5a8f2043021a4faab99ccfe4ebe"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a3679b5a8f2043021a4faab99ccfe4ebe">DBoW2::TemplatedVocabulary::create</a></div><div class="ttdeci">virtual void create(const std::vector&lt; std::vector&lt; TDescriptor &gt; &gt; &amp;training_features)</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l00558">TemplatedVocabulary.h:558</a></div></div>
<div class="ttc" id="aclass_d_bo_w2_1_1_templated_vocabulary_html_a92ca49bd6600bddbad145fb6e0543fa1"><div class="ttname"><a href="class_d_bo_w2_1_1_templated_vocabulary.html#a92ca49bd6600bddbad145fb6e0543fa1">DBoW2::TemplatedVocabulary::save</a></div><div class="ttdeci">void save(const std::string &amp;filename) const</div><div class="ttdef"><b>Definition:</b> <a href="_templated_vocabulary_8h_source.html#l01454">TemplatedVocabulary.h:1454</a></div></div>
<div class="ttc" id="aclassint_html"><div class="ttname"><a href="classint.html">int</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_a55fcd7333e591a38e96b91f41bc182f6"><div class="ttname"><a href="namespace_d_bo_w2.html#a55fcd7333e591a38e96b91f41bc182f6">DBoW2::WordValue</a></div><div class="ttdeci">double WordValue</div><div class="ttdoc">Value of a word.</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00026">BowVector.h:26</a></div></div>
<div class="ttc" id="anamespace_d_bo_w2_html_aa252a592dd607c6e60dede06ceef2722a607c4948ab28605098d7cedb9bce14ae"><div class="ttname"><a href="namespace_d_bo_w2.html#aa252a592dd607c6e60dede06ceef2722a607c4948ab28605098d7cedb9bce14ae">DBoW2::KL</a></div><div class="ttdeci">@ KL</div><div class="ttdef"><b>Definition:</b> <a href="_bow_vector_8h_source.html#l00053">BowVector.h:53</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 1 2022 22:35:27 for ORB_SLAM3 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
